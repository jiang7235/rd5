学习心得
===
今天学习了 Linux 的目录文件管理、文件查找、打包压缩和文本编辑。虽然平时也会经常用到目录、文件管理的一些命令，但是没有深入的了解过，学习后发现还有很多高级的操作方法。

对于文件打包的 tar 命令和文件压缩的 gzip 命令，最开始只是对 .tar、.gz 和 .tar.gz 后缀的文件有所了解，知道是压缩文件，但是没具体了解过相关的压缩命令。而且经过这次的学习，还了解到打包压缩的打包和压缩是可以分开来进行的。

vim 编辑器是 Linux 中很常用的编辑器，功能也很强大。对于常用的一些操作需要经常联系才可以熟练使用。

明日计划
===
1. Linux 管道符
2. Linux 磁盘管理
3. Linux 系统备份与恢复
4. Linux 任务计划

---

以下为学习记录

<a name="ViW6T"></a>
# Linux 目录与文件
我们了解到 Linux 的目录结构是树状结构，最顶级的目录为根目录 `/`。<br />在 Linux 实验环境操作中，我们是通过 `cd` 命令来切换路径， `.` 表示当前目录， `..` 表示上一级目录， `-` 表示上一次所在目录， `～` 通常表示当前用户的 home 目录。可以使用 `pwd` 命令可以获取当前所在路径（绝对路径）。
<a name="npZYB"></a>
## 文件树
FHS（Filesystem Hierarchy Standard）文件系统层次结构标准：定义了系统中每个区域的用途、所需要的最小构成的文件和目录同时还给出了例外处理与矛盾处理。<br />FHS 标准定义了两层规范：

1. `/` 下面的各个目录应该放什么文件数据，例如 `/etc` 应放置配置文件， `/bin` 与 `/sbin` 则应该放置可执行文件等。
1. 针对 `/usr` 和 `/var` 这两个目录的子目录来定义。例如 `/var/log` 放置系统登录文件， `/usr/share` 放置共享数据等等。
<a name="tGCcS"></a>
## Linux 文件属性
**Linux 里面一切皆文件。**
```bash
$ ls -la
drwxr-xr-x   10 yuchunyu97  staff    320  5 24 14:29 Inspur
```
从左到右依次表示：文件类型和权限、硬链接数、所有者、所属组、文件大小、最后修改时间、文件名。

- 第一个字符代表的就是这个文件的类型，文件类型主要分为以下 7 种类型：普通文件 `-`，目录 `d`，字符设备文件 `c`，块设备文件 `b`，本地域套接口 `s`，有名管道（FIFO） `p`，符号链接 `l` 。
- 权限：r 代表可读(read)、w 代表可写(write)、x 代表可执行(execute)。
  - chmod：改变文件或目录权限
  - chown：改变归属关系
  - chgrp：改变归属组
<a name="8hLXF"></a>
## 常用命令
```bash
$ ls # 显示当前目录下的文件信息。
$ cat # 查看文件的内容。
$ tac # 和 cat 正好相反，为倒序显示。
$ more # 分页查看文件内容，通过空格键查看下一页。
$ less # 分页查看文件内容，通过空格键查看下一页。
$ grep # 查找关键词并打印匹配的行。
$ head # 用于显示文件的开头的内容。在默认情况下，head 命令显示文件的前 10 行内容。
$ tail # 用于输入文件中的尾部内容，tail 命令默认在屏幕上显示指定文件的末尾 10 行。

$ touch # 用来创建空白文件，也可以用来更改已有文件的时间戳。
$ mkdir # 用于创建一个空目录，也可指定创建目录的权限属性。
$ cp # 用于复制文件和目录。
$ rm # 用于删除文件或目录。
$ mv # 移动或者重命名文件或目录。
$ du # 用于计算文件或目录的容量。
$ stat # 查看文件的状态。

$ ln -s source target # 创建软链接（符号链接）
$ ln source target # 创建硬链接（实体链接）
```

<a name="XDS3p"></a>
# Linux 文件查找与打包
`find` 命令用于在目录下查找文件，并且会打印所找到文件的有关信息。
```bash
$ find [path...] [expression]
```

`locate` 命令来实现快速查找。但是不同于 `find` 命令， `locate` 命令其实是在一个保存有系统中所有文件名和目录名的数据库中去查找。而数据库中的内容并不是实时更新的，该数据库的更新操作可以使用 `updatedb` 命令来执行。

`whereis` 命令同 `locate` 类似，也是在一个保存有系统中所有文件名和目录名的数据库中去查找。不同的在于 `whereis` 命令查找的是二进制文件，源，或者 man 手册的文件。

`which` 命令一般用于查找 shell 命令的完整路径。该命令在环境变量PATH中列出的目录中搜索可执行文件或脚本进行匹配查找。
<a name="RFN8H"></a>
## 文件打包和解压
`gzip` 命令用于对文件进行压缩，生成的压缩文件会以 `.gz` 结尾。而对应的解压缩的命令则是 `gunzip`。

`tar` 是用于创建文件档案的命令行工具，多用于备份文件。<br />相关参数：

- -c 或 --create ：创建一个存档
- -r ：将文件附加到档案文件末尾
- -z 或 --gzip ：指定 gzip 格式
- -v 或 --verbose ：显示文件处理的详细过程
- -f ：指定档案文件名称
- -x ：还原档案文件
```bash
# 归档压缩
$ tar -cvf test.tar file1 file2 file3 file4

# 恢复文件
$ tar -xvf test.tar
```

<a name="sAJPo"></a>
# Linux 文本编辑
对于所有的 Linux 发行版来说，都内置了 `vi` 编辑器，而 `vim` 是一款高级文本编辑器，除了支持 `vi` 编辑器的功能之外，还提供了更丰富的功能。

启动命令： `vim`<br />键入 `i` 命令，切换到插入模式下。<br />返回到普通模式，只需按 `<ESC>` 键。

进入插入模式还可以使用以下命令：

- `i` 在当前光标处进行编辑
- `I` 在行首插入
- `A` 在行末插入
- `a` 在光标后插入编辑
- `o` 在当前行后插入一个新行
- `O` 在当前行前插入一个新行

从普通模式到命令行模式的切换，只需要在普通模式下输入 `:` 冒号，或者 `/` 或 `?` 。

可以通过 `u` 命令来撤销操作。
<a name="FMXXl"></a>
## 复制、粘贴和剪切

- 普通模式中使用`y`复制
  - 普通模式中，`yy` 复制游标所在的整行（`3yy` 表示复制3行）
  - 普通模式中，`y^` 复制至行首，或 `y0`。不含光标所在处字符。
  - 普通模式中，`y$` 复制至行尾。含光标所在处字符。
  - 普通模式中，`yw` 复制一个单词。
  - 普通模式中，`y2w` 复制两个单词。
  - 普通模式中，`yG` 复制至文本末。
  - 普通模式中，`y1G` 复制至文本开头。
- 普通模式中使用`p`粘贴
  - 普通模式中，`p`(小写)代表粘贴至光标后（下）
  - 普通模式中，`P`(大写)代表粘贴至光标前（上）
- 普通模式种使用`dd`剪切
  - 前面讲得 `dd` 删除命令其实就是剪切，这里不在赘述
  - `ddp`，快速实现光标所在行与它下面的行的交换

对于搜索字符串的方式，我们可以通过 `/string` 和 `?string` 的方式，这里的 `string` 代表需要搜索的字符串， `/` 和 `?` 分别代表向下和向上搜索。对于有多个查询结果的时候，我们可以通过 `n` 或 `N` 来定位下一个或上一个查询结果。
