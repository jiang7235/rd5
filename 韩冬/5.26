# 5.25学习总结

# 学习感悟



今天学习了文件操作系统和磁盘管理的内容，明天将学习Linux下的帮助命令。









## 学习笔记

### 文件系统操作与磁盘管理

- `df`，`du`，`mount`命令的使用
- 磁盘相关知识学习

#### 查看磁盘和目录的容量

**使用 df 命令查看磁盘的容量**

 /dev/sda2 是对应着主机硬盘的分区，后面的数字表示分区号，数字前面的字母 a 表示第几块硬盘（也可能是可移动磁盘），你如果主机上有多块硬盘则可能还会出现 /dev/sdb，/dev/sdc 这些磁盘设备都会在 /dev 目录下以文件的存在形式

**使用 du 命令查看目录的容量**

`-d`参数指定查看目录的深度

 只查看1级目录的信息
$ du -h -d 0 ~

# 查看2级

$ du -h -d 1 ~

du -h #同--human-readable 以K，M，G为单位，提高信息的可读性。
du -a #同--all 显示目录中所有文件的大小。
du -s #同--summarize 仅显示总计，只列出最后加总的

![1558874132794](C:\Users\韩冬\AppData\Roaming\Typora\typora-user-images\1558874132794.png)



#### dd 命令简介

 

`dd`命令用于转换和复制文件，不过它的复制不同于`cp`。之前提到过关于 Linux 的很重要的一点，**一切即文件**，在 Linux 上，硬件的设备驱动（如硬盘）和特殊设备文件（如`/dev/zero`和`/dev/random`）都像普通文件一样，只是在各自的驱动程序中实现了对应的功能，dd 也可以读取文件或写入这些文件。这样，`dd`也可以用在备份硬件的引导扇区、获取一定数量的随机数据或者空数据等任务中。`dd`程序也可以在复制时处理数据，例如转换字节序、或在 ASCII 与  EBCDIC 编码间互换。

 

`令行选项格式为`选项=值`，而不是更标准的`--选项 值`或`-选项=值`。`dd`默认从标准输入中读取，并写入到标准输出中，但可以用选项`if`（input file，输入文件）和`of`（output file，输出文件）改变**。**

`count`用于指定块数量。如上图所示，我指定只读取总共 10 个字节的数据，当我输入了“hello shiyanlou”之后加上空格回车总共 16 个字节（一个英文字符占一个字节）内容，显然超过了设定大小。使用`du`和`cat`命令看到的写入完成文件实际内容确实只有 10 个字节（那个黑底百分号表示这里没有换行符）,而其他的多余输入将被截取并保留在标准输入。

**实现数据转换**

**使用 dd 命令创建虚拟镜像文件**

`dd`命令来完成创建虚拟磁盘的第一步。

 

从`/dev/zero`设备创建一个容量为 256M 的空文件

使用 mkfs 命令格式化磁盘

`mount`命令的一般格式如下：

 

```
mount [options] [source] [directory]
```

 mount -o loop -t ext4 virtual.img /mnt 

![1558875733292](C:\Users\韩冬\AppData\Roaming\Typora\typora-user-images\1558875733292.png)



**使用 losetup 命令建立镜像与回环设备的关联**

![1558876381787](C:\Users\韩冬\AppData\Roaming\Typora\typora-user-images\1558876381787.png)





# 

## 
